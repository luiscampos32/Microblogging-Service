<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>

    <script type="text/javascript">
      WebFontConfig = {
        google: { families: [ 'Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic:latin' ] }
      };
      (function() {
        var wf = document.createElement('script');
        wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
        wf.type = 'text/javascript';
        wf.async = 'true';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(wf, s);
      })(); </script>

    <link rel="stylesheet" href="/static/base.css">
    <link rel="stylesheet" href="{% block cssPath %}{% endblock %}">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
  {% block fontAwesome %}{% endblock %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/mustache.js/2.2.1/mustache.min.js"></script>
    <script src="https://cdn.jsdelivr.net/socket.io-client/1.3.2/socket.io.min.js"></script>
  <script>
    var csrfToken = '{{ session.csrf_token }}'
    var baseUrl = '{{ request.url_root }}'
    {% if g.user %}
    var authUserId = {{ g.user.id }}
    {% endif %}
  </script>
</head>
<body>




<div class="header">
    <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
    <ul class="pure-menu-list">
      <li class="dropdown pure-menu-item">
          <i onclick="myFunction()" class=" dropbtn fa fa-bars fa-lg" aria-hidden="true"></i>
        <div class="dropdown-content" id="myDropdown">
          {% if g.user %}
              <p>Logged in as {{ g.user.username }}</p>
              <a href="/logout">Log Out</a>
              <a href="/u/{{ g.user.username }}">My Profile</a>
          {% else %}
              <a href="/create_user">Sign Up</a>
              <a href="/login">Sign In</a>
          {% endif %}
        </div>
      </li>
    <li class="pure-menu-item others">
      <li class="pure-menu-item"><a href="/"><i class="holding fa fa-home fa-2x" aria-hidden="true"></i></a></li>
      {% if g.user %}
        <li class="pure-menu-item"><a class="pure-menu-heading" href="/u/{{ g.user.username }}"><i class="fa fa-user fa-lg" aria-hidden="true"></i></a></li>
      {% endif %}

    {% if request.path == '/' and g.user %}
      <li class="pure-menu-item"><a class="pure-menu-heading"><i id="editPencil" class="fa fa-pencil fa-lg" aria-hidden="true"></i></a></li>
      <li class="pure-menu-item"><a class="pure-menu-heading"><i id="editPhoto" class="fa fa-picture-o fa-lg" aria-hidden="true"></i></a></li>
      </li>
    {% endif %}

    </ul>
    </div>

</div>

<div class="content-wrapper">
  {% block content %}
  {% endblock %}
</div>
</div>


<script>

function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
}

window.onclick = function(e) {
  if (!e.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    for (var d = 0; d < dropdowns.length; d++) {
      var openDropdown = dropdowns[d];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>

</body>
</html>